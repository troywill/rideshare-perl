#!/usr/bin/env perl

use warnings;
use strict;

# connect to the database
use DBI;
my $dbh = DBI->connect("dbi:Pg:dbname=rideshare","","");

my $statement = "SELECT id, event_id, timestamp FROM event";
my $array_ref = $dbh->selectall_arrayref($statement);

foreach my $myRow (@$array_ref) {
  print "-" x 80, "\n";
  my ( $id, $event_id, $timestamp ) = @$myRow;
  print "id: $id\n";
  print "event_id: $event_id\n";
  print "timestamp: $timestamp\n";
}

$dbh->disconnect();

__END__

my $rs = $dbh->selectall_arrayref("SELECT '" . join("','", @fromFields
+) . "' FROM $fromTable");


foreach my $myRow (@$rs) {
  print "@$myRow\n";
  foreach my $myElem (@$myRow) {
    print "$myElem,";
  }
  print "\n";
}
